/* === Reset & Base === */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: #f5f6fa; color: #2d3436; line-height: 1.6; }
a { color: #0984e3; text-decoration: none; }
a:hover { text-decoration: underline; }

/* === Sidebar === */
.sidebar { position: fixed; top: 0; left: 0; width: 220px; height: 100vh; background: #2d3436; color: #dfe6e9; display: flex; flex-direction: column; z-index: 100; }
.sidebar-brand { padding: 20px; font-size: 1.3rem; font-weight: 700; color: #fff; border-bottom: 1px solid #636e72; }
.sidebar-nav { display: flex; flex-direction: column; padding: 12px 0; }
.nav-link { padding: 10px 20px; color: #b2bec3; transition: background .2s; }
.nav-link:hover { background: #636e72; color: #fff; text-decoration: none; }

/* === Main Content === */
.main-content { margin-left: 220px; padding: 24px 32px 80px; min-height: 100vh; }

/* === Footer === */
.footer { margin-left: 220px; padding: 16px 32px; text-align: center; color: #b2bec3; font-size: .85rem; border-top: 1px solid #dfe6e9; }

/* === Page Header === */
.page-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 24px; }
.page-header h1 { font-size: 1.5rem; }
.page-subtitle { color: #636e72; font-size: .9rem; }

/* === Buttons === */
.btn { display: inline-block; padding: 8px 18px; border-radius: 6px; border: none; cursor: pointer; font-size: .9rem; transition: opacity .2s; text-decoration: none; }
.btn:hover { opacity: .85; text-decoration: none; }
.btn-primary { background: #0984e3; color: #fff; }
.btn-secondary { background: #dfe6e9; color: #2d3436; }
.btn-warning { background: #fdcb6e; color: #2d3436; }
.btn-danger { background: #d63031; color: #fff; }
.btn-sm { padding: 4px 10px; font-size: .8rem; }

/* === Cards === */
.card-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 16px; }
.card { background: #fff; border-radius: 8px; padding: 20px; box-shadow: 0 1px 3px rgba(0,0,0,.08); }
.card-link { display: block; transition: box-shadow .2s; }
.card-link:hover { box-shadow: 0 4px 12px rgba(0,0,0,.12); text-decoration: none; }
.card-title { font-size: 1.1rem; margin-bottom: 8px; color: #2d3436; }
.card-meta { color: #636e72; font-size: .85rem; margin-bottom: 8px; word-break: break-all; }

/* === Badges === */
.badge { display: inline-block; padding: 2px 10px; border-radius: 12px; font-size: .78rem; font-weight: 500; background: #dfe6e9; color: #2d3436; }
.badge-info { background: #74b9ff; color: #fff; }
.badge-status-preparing { background: #b2bec3; color: #fff; }
.badge-status-clarifying { background: #74b9ff; color: #fff; }
.badge-status-planning { background: #a29bfe; color: #fff; }
.badge-status-designing { background: #fdcb6e; color: #2d3436; }
.badge-status-coding { background: #ffeaa7; color: #2d3436; }
.badge-status-verifying { background: #55efc4; color: #2d3436; }
.badge-status-done { background: #00b894; color: #fff; }

/* === Forms === */
.form { max-width: 640px; }
.form-group { margin-bottom: 16px; }
.form-group label { display: block; margin-bottom: 4px; font-weight: 500; font-size: .9rem; }
.form-group input, .form-group textarea { width: 100%; padding: 8px 12px; border: 1px solid #dfe6e9; border-radius: 6px; font-size: .9rem; font-family: inherit; }
.form-group input:focus, .form-group textarea:focus { outline: none; border-color: #0984e3; box-shadow: 0 0 0 2px rgba(9,132,227,.15); }
.form-actions { display: flex; gap: 10px; margin-top: 20px; }

/* === Detail Sections === */
.detail-section { margin-bottom: 28px; }
.detail-section h2 { font-size: 1.15rem; margin-bottom: 12px; padding-bottom: 6px; border-bottom: 2px solid #dfe6e9; }
.detail-list { display: grid; grid-template-columns: 100px 1fr; gap: 6px 12px; }
.detail-list dt { font-weight: 500; color: #636e72; }
.detail-list dd { margin: 0; }

/* === Table === */
.table { width: 100%; border-collapse: collapse; }
.table th, .table td { padding: 8px 12px; text-align: left; border-bottom: 1px solid #dfe6e9; font-size: .9rem; }
.table th { background: #f5f6fa; font-weight: 600; }

/* === Stepper === */
.stepper { display: flex; align-items: center; margin-bottom: 28px; padding: 16px 0; overflow-x: auto; }
.step { display: flex; flex-direction: column; align-items: center; min-width: 70px; }
.step-circle { width: 32px; height: 32px; border-radius: 50%; background: #dfe6e9; color: #636e72; display: flex; align-items: center; justify-content: center; font-size: .85rem; font-weight: 600; }
.step-active .step-circle { background: #0984e3; color: #fff; }
.step-done .step-circle { background: #00b894; color: #fff; }
.step-label { margin-top: 6px; font-size: .78rem; color: #636e72; }
.step-active .step-label { color: #0984e3; font-weight: 600; }
.step-done .step-label { color: #00b894; }
.step-line { flex: 1; height: 2px; background: #dfe6e9; min-width: 20px; margin: 0 4px; align-self: flex-start; margin-top: 15px; }
.step-line-done { background: #00b894; }

/* === Output Blocks === */
.output-block { margin-bottom: 16px; }
.output-block h3 { font-size: .95rem; margin-bottom: 6px; }
.output-content { background: #fff; border: 1px solid #dfe6e9; border-radius: 6px; padding: 12px; font-size: .85rem; white-space: pre-wrap; word-break: break-word; max-height: 400px; overflow-y: auto; }

/* === Q&A === */
.qa-item { background: #fff; border-radius: 6px; padding: 12px; margin-bottom: 8px; border-left: 3px solid #0984e3; }
.qa-question { font-weight: 500; margin-bottom: 4px; }
.qa-answer { color: #636e72; }

/* === Round === */
.round-item { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; }
.round-branch { font-family: monospace; font-size: .85rem; color: #636e72; }

/* === Action Bar === */
.action-bar { display: flex; gap: 10px; margin-bottom: 24px; }

/* === AI Console === */
.ai-console { background: #1e272e; color: #d2dae2; border-radius: 8px; padding: 16px; min-height: 200px; max-height: 500px; overflow-y: auto; font-family: "SF Mono", "Fira Code", "Consolas", monospace; font-size: .82rem; line-height: 1.7; }
.console-msg { padding: 2px 0; white-space: pre-wrap; word-break: break-word; }
.console-msg-assistant { color: #7bed9f; }
.console-msg-tool { color: #70a1ff; }
.console-msg-user { color: #ffa502; }
.console-msg-system { color: #a4b0be; font-style: italic; }
.console-msg-error { color: #ff6b6b; }

/* === Empty State === */
.empty-state { color: #b2bec3; padding: 32px; text-align: center; }

/* === Responsive === */
@media (max-width: 768px) {
  .sidebar { width: 180px; }
  .main-content, .footer { margin-left: 180px; }
  .main-content { padding: 16px; }
  .card-grid { grid-template-columns: 1fr; }
}
@media (max-width: 480px) {
  .sidebar { position: static; width: 100%; height: auto; flex-direction: row; }
  .sidebar-nav { flex-direction: row; }
  .main-content, .footer { margin-left: 0; }
}

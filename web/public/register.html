<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>用户注册 - OPD</title>
  <link rel="stylesheet" href="register.css">
</head>
<body>
  <main class="register-container">
    <div class="register-card">
      <h1 class="register-title">用户注册</h1>
      <p class="register-subtitle">创建您的 OPD 账户</p>

      <!-- 成功提示（初始隐藏） -->
      <div class="success-message" id="successMessage" style="display: none;">
        <svg class="success-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path d="M20 6L9 17l-5-5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span>注册成功！正在跳转...</span>
      </div>

      <form class="register-form" id="registerForm" novalidate>
        <!-- 用户名 -->
        <div class="form-group">
          <label for="username" class="form-label">用户名</label>
          <input
            type="text"
            id="username"
            name="username"
            class="form-input"
            placeholder="请输入用户名"
            autocomplete="username"
            required
          >
          <div class="error-message" id="usernameError"></div>
        </div>

        <!-- 邮箱 -->
        <div class="form-group">
          <label for="email" class="form-label">邮箱</label>
          <input
            type="email"
            id="email"
            name="email"
            class="form-input"
            placeholder="请输入邮箱地址"
            autocomplete="email"
            required
          >
          <div class="error-message" id="emailError"></div>
        </div>

        <!-- 密码 -->
        <div class="form-group">
          <label for="password" class="form-label">密码</label>
          <div class="password-wrapper">
            <input
              type="password"
              id="password"
              name="password"
              class="form-input"
              placeholder="请输入密码"
              autocomplete="new-password"
              required
            >
            <button
              type="button"
              class="toggle-password"
              id="togglePassword"
              aria-label="显示密码"
            >
              <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path class="eye-open" d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" stroke-width="2"/>
                <circle class="eye-open" cx="12" cy="12" r="3" stroke-width="2"/>
                <path class="eye-closed" d="M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19m-6.72-1.07a3 3 0 11-4.24-4.24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <line class="eye-closed" x1="1" y1="1" x2="23" y2="23" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </button>
          </div>
          <div class="error-message" id="passwordError"></div>

          <!-- 密码强度可视化 -->
          <div class="password-strength" id="passwordStrength" style="display: none;">
            <div class="strength-bar">
              <div class="strength-fill" id="strengthFill"></div>
            </div>
            <div class="strength-text" id="strengthText">弱</div>
            <ul class="strength-rules">
              <li id="rule-length">
                <span class="rule-icon">✗</span>
                至少 8 个字符
              </li>
              <li id="rule-upper">
                <span class="rule-icon">✗</span>
                包含大写字母
              </li>
              <li id="rule-lower">
                <span class="rule-icon">✗</span>
                包含小写字母
              </li>
              <li id="rule-number">
                <span class="rule-icon">✗</span>
                包含数字
              </li>
            </ul>
          </div>
        </div>

        <!-- 确认密码 -->
        <div class="form-group">
          <label for="confirmPassword" class="form-label">确认密码</label>
          <div class="password-wrapper">
            <input
              type="password"
              id="confirmPassword"
              name="confirmPassword"
              class="form-input"
              placeholder="请再次输入密码"
              autocomplete="new-password"
              required
            >
            <button
              type="button"
              class="toggle-password"
              id="toggleConfirmPassword"
              aria-label="显示确认密码"
            >
              <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path class="eye-open" d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" stroke-width="2"/>
                <circle class="eye-open" cx="12" cy="12" r="3" stroke-width="2"/>
                <path class="eye-closed" d="M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19m-6.72-1.07a3 3 0 11-4.24-4.24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <line class="eye-closed" x1="1" y1="1" x2="23" y2="23" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </button>
          </div>
          <div class="error-message" id="confirmPasswordError"></div>
        </div>

        <!-- 提交按钮 -->
        <button type="submit" class="submit-btn" id="submitBtn" disabled>
          <span class="btn-text">注册</span>
          <span class="btn-loading" style="display: none;">
            <svg class="spinner" viewBox="0 0 24 24">
              <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none" opacity="0.25"/>
              <path d="M12 2a10 10 0 0110 10" stroke="currentColor" stroke-width="4" fill="none" stroke-linecap="round"/>
            </svg>
            注册中...
          </span>
        </button>
      </form>

      <!-- 登录链接 -->
      <div class="login-link">
        已有账户？<a href="#login">立即登录</a>
      </div>
    </div>
  </main>

  <script src="register.js"></script>
</body>
</html>

# OPD Application Configuration
# Secrets (tokens, passwords) go in .env, not here.
# Copy this file to opd.yaml and adjust as needed.

server:
  host: "0.0.0.0"
  port: 8765

workspace:
  base_dir: "./workspace"

logging:
  dir: "./logs"              # log files: opd.log + error.log
  level: "INFO"              # DEBUG | INFO | WARNING | ERROR
  max_bytes: 10485760        # 10MB per file
  backup_count: 5            # rotated file count

providers:
  requirement:
    type: local             # local | notion | icafe
  document:
    type: local
    config:
      base_dir: ./docs
  scm:
    type: github            # github | icode
    config:
      # token: set via GITHUB_TOKEN env var (recommended)
      # base_url: https://github.example.com/api/v3  # for GitHub Enterprise
      # webhook_secret: set via GITHUB_WEBHOOK_SECRET env var (optional)
  sandbox:
    type: docker_local      # docker_local | k8s
  ci:
    type: github_actions    # github_actions | agile
  ai:
    type: claude_code       # claude_code | ducc
    config:
      model: sonnet         # sonnet | opus | haiku
      max_turns: 50
  notification:
    type: web               # web | feishu | ruliu
